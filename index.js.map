{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nexport function getImagesByQuery(query) {\n  return axios.get(\"https://pixabay.com/api/\", {\n    params: {\n      key: \"52810941-a867c2a4f7105994d43c555c3\",\n      q: query,\n      image_type: \"photo\",\n      orientation: \"horizontal\",\n      safesearch: true,\n    }\n  })\n    .then(response => response.data.hits)\n    .catch(error => {\n      console.log(error);\n      return [];\n    });\n}\n\n\n","\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst form = document.querySelector('.form');\nconst loader = document.querySelector('.loader');\nconst galleryContainer = document.querySelector('.gallery');\nconst lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n    });\n\n\nexport function createGallery(images) {\n    const markup = images.map(image => `\n        <li class=\"gallery-item\">\n            <div>\n                <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                <img class=\"gallery-img\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" width=450 height=300 />\n                <div class=\"gallery-info\">\n                    <p class=\"gallery-text\"> <span class =\"span-text\">Likes</span> ${image.likes}</p>\n                    <p class=\"gallery-text\"> <span class =\"span-text\">Views</span> ${image.views}</p>\n                    <p class=\"gallery-text\"> <span class =\"span-text\">Comments</span> ${image.comments}</p>\n                    <p class=\"gallery-text\"> <span class =\"span-text\">Downloads</span> ${image.downloads}</p>\n                </div>\n            </div>\n        </li>\n    `).join('');\n    galleryContainer.insertAdjacentHTML('beforeend', markup);\n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n    galleryContainer.innerHTML = \"\";\n}\n\nexport function showLoader() {\n    loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n    loader.classList.add('hidden');\n}\n","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImagesByQuery } from \"./js/pixabay-api.js\";\nimport {createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions.js\";\n\nconst form = document.querySelector('.form');\nconst input = form.elements['search-text'];\nconst defaultPlaceholder = input.placeholder;\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n    showLoader();\n    const query = form.elements['search-text'].value.trim();\n    clearGallery();\n    if (!query) {\n        iziToast.error({\n            title: 'Error',\n            message: \"Please enter a search query.\",\n        });\n        hideLoader();\n        return;\n    }\n    input.placeholder = \"\";\n    getImagesByQuery(query)\n        .then(images => {\n            if (!images || images.length === 0) {\n                iziToast.error({\n                    title: 'Error',\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: \"topRight\"\n                });\n                return;\n            }\n            createGallery(images);\n\n        })\n        .catch(error => {\n            iziToast.error({\n                title: 'Error',\n                message: \"Sorry, there are no images matching your search query. Please try again!\",\n                position: \"topRight\"\n            });\n        })\n        .finally(() => {\n            hideLoader();\n            input.value = '';\n            input.placeholder = defaultPlaceholder;\n        });\n}\n\n\n\n\n\n\n\n\n\n\n"],"names":["getImagesByQuery","query","axios","response","error","loader","galleryContainer","lightbox","SimpleLightbox","createGallery","images","markup","image","clearGallery","showLoader","hideLoader","form","input","defaultPlaceholder","handleSubmit","event","iziToast"],"mappings":"owBAEO,SAASA,EAAiBC,EAAO,CACtC,OAAOC,EAAM,IAAI,2BAA4B,CAC3C,OAAQ,CACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,EACE,KAAKE,GAAYA,EAAS,KAAK,IAAI,EACnC,MAAMC,IACL,QAAQ,IAAIA,CAAK,EACV,GACR,CACL,CCZa,SAAS,cAAc,OAAO,EAC3C,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAW,IAAIC,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACtB,CAAK,EAGE,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAASD,EAAO,IAAIE,GAAS;AAAA;AAAA;AAAA,gDAGSA,EAAM,aAAa;AAAA,gDACnBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,qFAEDA,EAAM,KAAK;AAAA,qFACXA,EAAM,KAAK;AAAA,wFACRA,EAAM,QAAQ;AAAA,yFACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,KAInG,EAAE,KAAK,EAAE,EACVN,EAAiB,mBAAmB,YAAaK,CAAM,EACvDJ,EAAS,QAAO,CACpB,CAEO,SAASM,GAAe,CAC3BP,EAAiB,UAAY,EACjC,CAEO,SAASQ,GAAa,CACzBT,EAAO,UAAU,OAAO,QAAQ,CACpC,CAEO,SAASU,GAAa,CACzBV,EAAO,UAAU,IAAI,QAAQ,CACjC,CCpCA,MAAMW,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQD,EAAK,SAAS,aAAa,EACnCE,EAAqBD,EAAM,YACjCD,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpBN,IACA,MAAMb,EAAQe,EAAK,SAAS,aAAa,EAAE,MAAM,OAEjD,GADAH,IACI,CAACZ,EAAO,CACRoB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,8BACrB,CAAS,EACDN,IACA,MACH,CACDE,EAAM,YAAc,GACpBjB,EAAiBC,CAAK,EACjB,KAAKS,GAAU,CACZ,GAAI,CAACA,GAAUA,EAAO,SAAW,EAAG,CAChCW,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,UAC9B,CAAiB,EACD,MACH,CACDZ,EAAcC,CAAM,CAEhC,CAAS,EACA,MAAMN,GAAS,CACZiB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,UAC1B,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXN,IACAE,EAAM,MAAQ,GACdA,EAAM,YAAcC,CAChC,CAAS,CACT"}